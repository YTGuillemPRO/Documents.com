<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Juegos</title>
  <style>
    /* Estilo rápido para el botón de GitHub */
    #auth-container { background: #f0f0f0; padding: 15px; text-align: center; border-bottom: 2px solid #ccc; }
    #btn-login { background-color: #24292e; color: white; padding: 10px; border-radius: 5px; cursor: pointer; border: none; }
    .hidden { display: none; }
  </style>
</head>

<body>

  <div id="auth-container">
    <div id="user-logged-out">
      <button id="btn-login">Inicia sesión con GitHub para guardar tu progreso</button>
    </div>
    <div id="user-logged-in" class="hidden">
      <p id="welcome-msg"></p>
      <button id="btn-logout">Cerrar Sesión</button>
    </div>
  </div>

  <section id="Pets-and-Money">
    <a href="juego1/index.html">Pets and Money</a>
  </section>

  <section id="No-cliques-el-Boton">
    <a href="juego2/index.html">No cliques el Botón</a>
  </section>

  <section id="Steal-a-Brainrot">
    <a href="juego3/index.html">Steal a Brainrot</a>
  </section>

  <section id="FiFa">
    <a href="juego4/index.html">FiFa</a>
  </section>

  <section id="TikTok">
    <a href="juego5/index.html">TikTok</a>
  </section>

  <section id="Clash-Royale">
    <a href="juego6/index.html">Clash Royale</a>
  </section>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAuth, signInWithPopup, GithubAuthProvider, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyAsx2kPeIGGdgWB7NNTNsDdMKhD946R71A",
  authDomain: "inicio-sessio.firebaseapp.com",
  projectId: "inicio-sessio",
  storageBucket: "inicio-sessio.firebasestorage.app",
  messagingSenderId: "317240360522",
  appId: "1:317240360522:web:7308be4afe4b5d81d6b0b3",
  measurementId: "G-3YNVH5N03F"
};

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new GithubAuthProvider();

    // Referencias UI
    const loggedOutDiv = document.getElementById('user-logged-out');
    const loggedInDiv = document.getElementById('user-logged-in');
    const welcomeMsg = document.getElementById('welcome-msg');

    // Botón Login
    document.getElementById('btn-login').onclick = () => {
      signInWithPopup(auth, provider).catch(err => console.error(err));
    };

    // Botón Logout
    document.getElementById('btn-logout').onclick = () => {
      signOut(auth);
    };

    // Detectar Usuario
    onAuthStateChanged(auth, (user) => {
      if (user) {
        loggedOutDiv.classList.add('hidden');
        loggedInDiv.classList.remove('hidden');
        welcomeMsg.innerText = "Hola, " + user.displayName;
      } else {
        loggedOutDiv.classList.remove('hidden');
        loggedInDiv.classList.add('hidden');
      }
    });

    // TU AVISO ORIGINAL
    window.onload = function () {
      const entendido = confirm("⚠️ AVISO ⚠️\n\nEsta página es para jugar en casa...");
      if (!entendido) window.location.href = "https://www.google.com";
    };
  </script>

</body>
</html>
